#
# Coding by Zheng Li, University Gustave Eiffel.
#
from abaqus import *
from odbAccess import *
from abaqusConstants import *
from viewerModules import *
import os
import glob
####################################################################################################################################################################################################################################################################
#OPEN
odbName=glob.glob('*.odb')
Path=os.getcwd()
odb=openOdb(odbName[0])
#############################################################################################################################################################################################################################################
#DISPLAY OPTIONAL
session.viewports['Viewport: 1'].setValues(displayedObject=odb)
session.viewports['Viewport: 1'].odbDisplay
#############################################################################################################################################################################################################################################
# NUMBER OF STEPS
numSteps=len(odb.steps)
print odb.steps.values()
#
#
#############################################################################################################################################################################################################################################
#NUMBER OF FRAMES IN EACH STEPS
for stepName in odb.steps.keys():
     print stepName

#
numSteps=len(odb.steps.keys())
print odb.steps.values()
stepseis=odb.steps.values()[1]
print stepseis.name
numFrames=len(stepseis.frames)
print numFrames
###############################################################################
Element01='Element PART-1-1.1 Int Point 1'
###############################################################################
###############################################################################
###############################################################################
hisregtions=stepseis.historyRegions
###############################################################################
###############################################################################
###############################################################################
###	strain11
E_11=open('E11.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['E11'].data:
      print  'Time = %6.10f, E11 = %6.10f' % (Data[0], Data[1])
      E_11.write('%6.10f\n' % (Data[1]))

E_11.close()
###############################################################################
###############################################################################
###############################################################################
###	strain22
E_22=open('E22.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['E22'].data:
      print  'Time = %6.10f, E22 = %6.10f' % (Data[0], Data[1])
      E_22.write('%6.10f\n' % (Data[1]))

E_22.close()
###############################################################################
###############################################################################
###############################################################################
###	strain33
E_33=open('E33.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['E33'].data:
      print  'Time = %6.10f, E33 = %6.10f' % (Data[0], Data[1])
      E_33.write('%6.10f\n' % (Data[1]))

E_33.close()
###############################################################################
###############################################################################
###############################################################################
###	strain12
E_12=open('E12.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['E12'].data:
      print  'Time = %6.10f, E12 = %6.10f' % (Data[0], Data[1])
      E_12.write('%6.10f\n' % (Data[1]))

E_12.close()
###############################################################################
###############################################################################
###############################################################################
###	strain13
E_13=open('E13.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['E13'].data:
      print  'Time = %6.10f, E13 = %6.10f' % (Data[0], Data[1])
      E_13.write('%6.10f\n' % (Data[1]))

E_13.close()
###############################################################################
###############################################################################
###############################################################################
###	strain23
E_23=open('E23.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['E23'].data:
      print  'Time = %6.10f, E23 = %6.10f' % (Data[0], Data[1])
      E_23.write('%6.10f\n' % (Data[1]))

E_23.close()
###############################################################################
###############################################################################
###############################################################################
###	stress11
S_11=open('S11.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['S11'].data:
      print  'Time = %6.10f, S11 = %6.10f' % (Data[0], Data[1])
      S_11.write('%6.10f\n' % (Data[1]))

S_11.close()
###############################################################################
###############################################################################
###############################################################################
###	stress22
S_22=open('S22.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['S22'].data:
      print  'Time = %6.10f, S22 = %6.10f' % (Data[0], Data[1])
      S_22.write('%6.10f\n' % (Data[1]))

S_22.close()
###############################################################################
###############################################################################
###############################################################################
###	stress33
S_33=open('S33.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['S33'].data:
      print  'Time = %6.10f, S33 = %6.10f' % (Data[0], Data[1])
      S_33.write('%6.10f\n' % (Data[1]))

S_33.close()
###############################################################################
###############################################################################
###############################################################################
###	stress12
S_12=open('S12.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['S12'].data:
      print  'Time = %6.10f, S12 = %6.10f' % (Data[0], Data[1])
      S_12.write('%6.10f\n' % (Data[1]))

S_12.close()
###############################################################################
###############################################################################
###############################################################################
###	stress13
S_13=open('S13.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['S13'].data:
      print  'Time = %6.10f, S13 = %6.10f' % (Data[0], Data[1])
      S_13.write('%6.10f\n' % (Data[1]))

S_13.close()
###############################################################################
###############################################################################
###############################################################################
###	stress23
S_23=open('S23.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['S23'].data:
      print  'Time = %6.10f, S23 = %6.10f' % (Data[0], Data[1])
      S_23.write('%6.10f\n' % (Data[1]))

S_23.close()
###############################################################################
###############################################################################
###############################################################################
###	Pstress1
PS_1=open('PS_1.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['SP1'].data:
      print  'Time = %6.10f, SP1 = %6.10f' % (Data[0], Data[1])
      PS_1.write('%6.10f\n' % (Data[1]))

PS_1.close()
###############################################################################
###############################################################################
###############################################################################
###	Pstress2
PS_2=open('PS_2.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['SP2'].data:
      print  'Time = %6.10f, SP2 = %6.10f' % (Data[0], Data[1])
      PS_2.write('%6.10f\n' % (Data[1]))

PS_2.close()
###############################################################################
###############################################################################
###############################################################################
###	Pstress3
PS_3=open('PS_3.dat', 'w')
for  Data in hisregtions[Element01].historyOutputs['SP3'].data:
      print  'Time = %6.10f, SP3 = %6.10f' % (Data[0], Data[1])
      PS_3.write('%6.10f\n' % (Data[1]))

PS_3.close()
###############################################################################